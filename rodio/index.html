<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Audio playback library."><meta name="keywords" content="rust, rustlang, rust-lang, rodio"><title>rodio - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../rodio/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../rodio/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Crate rodio</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 0.15.0</li><li><a id="all-types" href="all.html">All Items</a></li></div></ul><section><div class="block"><ul><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section><div id="sidebar-vars" data-name="rodio" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../rodio/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">rodio</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/rodio/lib.rs.html#1-134">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Audio playback library.</p>
<p>The main concept of this library is the <a href="source/trait.Source.html" title="Source"><code>Source</code></a> trait, which
represents a sound (streaming or not). In order to play a sound, there are three steps:</p>
<ul>
<li>Create an object that represents the streaming sound. It can be a sine wave, a buffer, a
<a href="decoder/index.html" title="decoder"><code>decoder</code></a>, etc. or even your own type that implements the <a href="source/trait.Source.html" title="Source"><code>Source</code></a> trait.</li>
<li>Get an output stream handle to a physical device. For example, get a stream to the system’s
default sound device with <a href="struct.OutputStream.html#method.try_default" title="OutputStream::try_default()"><code>OutputStream::try_default()</code></a></li>
<li>Call <a href="struct.OutputStreamHandle.html#method.play_raw"><code>.play_raw(source)</code></a> on the output stream handle.</li>
</ul>
<p>The <a href="struct.OutputStreamHandle.html#method.play_raw"><code>play_raw</code></a> function expects the source to produce <a href="https://doc.rust-lang.org/1.62.0/std/primitive.f32.html" title="f32"><code>f32</code></a>s,
which may not be the case. If you get a compilation error, try calling
<a href="source/trait.Source.html#method.convert_samples"><code>.convert_samples()</code></a> on the source to fix it.</p>
<p>For example, here is how you would play an audio file:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::fs::File</span>;
<span class="kw">use</span> <span class="ident">std::io::BufReader</span>;
<span class="kw">use</span> <span class="ident">rodio</span>::{<span class="ident">Decoder</span>, <span class="ident">OutputStream</span>, <span class="ident">source::Source</span>};

<span class="comment">// Get a output stream handle to the default physical sound device</span>
<span class="kw">let</span> (<span class="ident">_stream</span>, <span class="ident">stream_handle</span>) <span class="op">=</span> <span class="ident">OutputStream::try_default</span>().<span class="ident">unwrap</span>();
<span class="comment">// Load a sound from a file, using a path relative to Cargo.toml</span>
<span class="kw">let</span> <span class="ident">file</span> <span class="op">=</span> <span class="ident">BufReader::new</span>(<span class="ident">File::open</span>(<span class="string">&quot;examples/music.ogg&quot;</span>).<span class="ident">unwrap</span>());
<span class="comment">// Decode that sound file into a source</span>
<span class="kw">let</span> <span class="ident">source</span> <span class="op">=</span> <span class="ident">Decoder::new</span>(<span class="ident">file</span>).<span class="ident">unwrap</span>();
<span class="comment">// Play the sound directly on the device</span>
<span class="ident">stream_handle</span>.<span class="ident">play_raw</span>(<span class="ident">source</span>.<span class="ident">convert_samples</span>());

<span class="comment">// The sound plays in a separate audio thread,</span>
<span class="comment">// so we need to keep the main thread alive while it&#39;s playing.</span>
<span class="ident">std::thread::sleep</span>(<span class="ident">std::time::Duration::from_secs</span>(<span class="number">5</span>));</code></pre></div>
<h3 id="sink"><a href="#sink">Sink</a></h3>
<p>In order to make it easier to control the playback, the rodio library also provides a type
named <a href="struct.Sink.html" title="Sink"><code>Sink</code></a> which represents an audio track.</p>
<p>Instead of playing the sound with <a href="struct.OutputStreamHandle.html#method.play_raw"><code>play_raw</code></a>, you can add it to
a <a href="struct.Sink.html" title="Sink"><code>Sink</code></a> instead.</p>
<ul>
<li>Get a <a href="struct.Sink.html" title="Sink"><code>Sink</code></a> to the output stream, and <a href="struct.Sink.html#method.append"><code>.append()</code></a> your sound to it.</li>
</ul>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::fs::File</span>;
<span class="kw">use</span> <span class="ident">std::io::BufReader</span>;
<span class="kw">use</span> <span class="ident">std::time::Duration</span>;
<span class="kw">use</span> <span class="ident">rodio</span>::{<span class="ident">Decoder</span>, <span class="ident">OutputStream</span>, <span class="ident">Sink</span>};
<span class="kw">use</span> <span class="ident">rodio::source</span>::{<span class="ident">SineWave</span>, <span class="ident">Source</span>};

<span class="kw">let</span> (<span class="ident">_stream</span>, <span class="ident">stream_handle</span>) <span class="op">=</span> <span class="ident">OutputStream::try_default</span>().<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">sink</span> <span class="op">=</span> <span class="ident">Sink::try_new</span>(<span class="kw-2">&amp;</span><span class="ident">stream_handle</span>).<span class="ident">unwrap</span>();

<span class="comment">// Add a dummy source of the sake of the example.</span>
<span class="kw">let</span> <span class="ident">source</span> <span class="op">=</span> <span class="ident">SineWave::new</span>(<span class="number">440.0</span>).<span class="ident">take_duration</span>(<span class="ident">Duration::from_secs_f32</span>(<span class="number">0.25</span>)).<span class="ident">amplify</span>(<span class="number">0.20</span>);
<span class="ident">sink</span>.<span class="ident">append</span>(<span class="ident">source</span>);

<span class="comment">// The sound plays in a separate thread. This call will block the current thread until the sink</span>
<span class="comment">// has finished playing all its queued sounds.</span>
<span class="ident">sink</span>.<span class="ident">sleep_until_end</span>();</code></pre></div>
<p>The <a href="struct.Sink.html#method.append"><code>append</code></a> method will add the sound at the end of the
sink. It will be played when all the previous sounds have been played. If you want multiple
sounds to play simultaneously, you should create multiple <a href="struct.Sink.html" title="Sink"><code>Sink</code></a>s.</p>
<p>The <a href="struct.Sink.html" title="Sink"><code>Sink</code></a> type also provides utilities such as playing/pausing or controlling the volume.</p>
<h3 id="filters"><a href="#filters">Filters</a></h3>
<p>The <a href="source/trait.Source.html" title="Source"><code>Source</code></a> trait provides various filters, similar to the standard <a href="https://doc.rust-lang.org/1.62.0/core/iter/traits/iterator/trait.Iterator.html" title="Iterator"><code>Iterator</code></a> trait.</p>
<p>Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">rodio::Source</span>;
<span class="kw">use</span> <span class="ident">std::time::Duration</span>;

<span class="comment">// Repeats the first five seconds of the sound forever.</span>
<span class="kw">let</span> <span class="ident">source</span> <span class="op">=</span> <span class="ident">source</span>.<span class="ident">take_duration</span>(<span class="ident">Duration::from_secs</span>(<span class="number">5</span>)).<span class="ident">repeat_infinite</span>();</code></pre></div>
<h3 id="alternative-decoder-backends"><a href="#alternative-decoder-backends">Alternative Decoder Backends</a></h3>
<p><a href="https://github.com/pdeljanov/Symphonia">Symphonia</a> is an alternative deocder library that can be used in place
of many of the default backends.
Currently, the main benefit is that Symphonia is the only backend that supports M4A and AAC,
but it may be used to implement additional optional functionality in the future.</p>
<p>To use, enable either the <code>symphonia-all</code> feature to enable all Symphonia codecs
or enable specific codecs using one of the <code>symphonia-{codec name}</code> features.
If you enable one or more of the Symphonia codecs, you may want to set <code>default-features = false</code> in order
to avoid adding extra crates to your binary.
See the <a href="https://docs.rs/crate/rodio/latest/features">available feature flags</a> for all options.</p>
<h3 id="how-it-works-under-the-hood"><a href="#how-it-works-under-the-hood">How it works under the hood</a></h3>
<p>Rodio spawns a background thread that is dedicated to reading from the sources and sending
the output to the device. Whenever you give up ownership of a <a href="source/trait.Source.html" title="Source"><code>Source</code></a> in order to play it,
it is sent to this background thread where it will be read by rodio.</p>
<p>All the sounds are mixed together by rodio before being sent to the operating system or the
hardware. Therefore there is no restriction on the number of sounds that play simultaneously or
the number of sinks that can be created (except for the fact that creating too many will slow
down your program).</p>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left import-item" id="reexport.cpal"><code>pub use <a class="mod" href="../cpal/index.html" title="mod cpal">cpal</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item" id="reexport.Decoder"><code>pub use crate::decoder::<a class="struct" href="decoder/struct.Decoder.html" title="struct rodio::decoder::Decoder">Decoder</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item" id="reexport.Source"><code>pub use crate::source::<a class="trait" href="source/trait.Source.html" title="trait rodio::source::Source">Source</a>;</code></div><div class="item-right docblock-short"></div></div></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="buffer/index.html" title="rodio::buffer mod">buffer</a></div><div class="item-right docblock-short"><p>A simple source of samples coming from a buffer.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="decoder/index.html" title="rodio::decoder mod">decoder</a></div><div class="item-right docblock-short"><p>Decodes samples from an audio file.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="dynamic_mixer/index.html" title="rodio::dynamic_mixer mod">dynamic_mixer</a></div><div class="item-right docblock-short"><p>Mixer that plays multiple sounds at the same time.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="queue/index.html" title="rodio::queue mod">queue</a></div><div class="item-right docblock-short"><p>Queue that plays sounds one after the other.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="source/index.html" title="rodio::source mod">source</a></div><div class="item-right docblock-short"><p>Sources of sound and various filters.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="static_buffer/index.html" title="rodio::static_buffer mod">static_buffer</a></div><div class="item-right docblock-short"><p>A simple source of samples coming from a static buffer.</p>
</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Device.html" title="rodio::Device struct">Device</a></div><div class="item-right docblock-short"><p>The <strong>Device</strong> implementation associated with the platform’s dynamically dispatched
<strong>Host</strong> type.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Devices.html" title="rodio::Devices struct">Devices</a></div><div class="item-right docblock-short"><p>The <strong>Devices</strong> iterator associated with the platform’s dynamically dispatched <strong>Host</strong>
type.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.OutputStream.html" title="rodio::OutputStream struct">OutputStream</a></div><div class="item-right docblock-short"><p><code>cpal::Stream</code> container. Also see the more useful <code>OutputStreamHandle</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.OutputStreamHandle.html" title="rodio::OutputStreamHandle struct">OutputStreamHandle</a></div><div class="item-right docblock-short"><p>More flexible handle to a <code>OutputStream</code> that provides playback.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Sink.html" title="rodio::Sink struct">Sink</a></div><div class="item-right docblock-short"><p>Handle to an device that outputs sounds.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SpatialSink.html" title="rodio::SpatialSink struct">SpatialSink</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SupportedStreamConfig.html" title="rodio::SupportedStreamConfig struct">SupportedStreamConfig</a></div><div class="item-right docblock-short"><p>Describes a single supported stream configuration, retrieved via either a
<code>SupportedStreamConfigRange</code> instance or one of the <code>Device::default_input/output_config</code> methods.</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.DevicesError.html" title="rodio::DevicesError enum">DevicesError</a></div><div class="item-right docblock-short"><p>An error that might occur while attempting to enumerate the available devices on a system.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PlayError.html" title="rodio::PlayError enum">PlayError</a></div><div class="item-right docblock-short"><p>An error occurred while attemping to play a sound.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.StreamError.html" title="rodio::StreamError enum">StreamError</a></div><div class="item-right docblock-short"></div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.DeviceTrait.html" title="rodio::DeviceTrait trait">DeviceTrait</a></div><div class="item-right docblock-short"><p>A device that is capable of audio input and/or output.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Sample.html" title="rodio::Sample trait">Sample</a></div><div class="item-right docblock-short"><p>Represents a value of a single sample.</p>
</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.InputDevices.html" title="rodio::InputDevices type">InputDevices</a></div><div class="item-right docblock-short"><p>A host’s device iterator yielding only <em>input</em> devices.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.OutputDevices.html" title="rodio::OutputDevices type">OutputDevices</a></div><div class="item-right docblock-short"><p>A host’s device iterator yielding only <em>output</em> devices.</p>
</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="rodio" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.62.0 (a8314ef7d 2022-06-27)" ></div>
</body></html>