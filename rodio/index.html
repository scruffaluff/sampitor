<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `rodio` crate."><meta name="keywords" content="rust, rustlang, rust-lang, rodio"><title>rodio - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../rodio/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><p class="location">Crate rodio</p><div class="block version"><p>Version 0.13.1</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all rodio's items</p></a><div class="block items"><ul><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></div><p class="location"></p><div id="sidebar-vars" data-name="rodio" data-ty="mod" data-relpath="../"></div></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="">rodio</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/rodio/lib.rs.html#1-121" title="goto source code">[src]</a></span></h1><div class="docblock"><p>Audio playback library.</p>
<p>The main concept of this library is the <a href="../rodio/source/trait.Source.html" title="Source"><code>Source</code></a> trait, which
represents a sound (streaming or not). In order to play a sound, there are three steps:</p>
<ul>
<li>Create an object that represents the streaming sound. It can be a sine wave, a buffer, a
<a href="../rodio/decoder/index.html" title="decoder"><code>decoder</code></a>, etc. or even your own type that implements the <a href="../rodio/source/trait.Source.html" title="Source"><code>Source</code></a> trait.</li>
<li>Get an output stream handle to a physical device. For example, get a stream to the system's
default sound device with <a href="../rodio/struct.OutputStream.html#method.try_default" title="OutputStream::try_default()"><code>OutputStream::try_default()</code></a></li>
<li>Call <a href="../rodio/struct.OutputStreamHandle.html#method.play_raw"><code>.play_raw(source)</code></a> on the output stream handle.</li>
</ul>
<p>The <a href="../rodio/struct.OutputStreamHandle.html#method.play_raw"><code>play_raw</code></a> function expects the source to produce <a href="https://doc.rust-lang.org/std/primitive.f32.html" title="f32"><code>f32</code></a>s,
which may not be the case. If you get a compilation error, try calling
<a href="../rodio/source/trait.Source.html#method.convert_samples"><code>.convert_samples()</code></a> on the source to fix it.</p>
<p>For example, here is how you would play an audio file:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">fs</span>::<span class="ident">File</span>;
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">io</span>::<span class="ident">BufReader</span>;
<span class="kw">use</span> <span class="ident">rodio</span>::{<span class="ident">Decoder</span>, <span class="ident">OutputStream</span>, <span class="ident">source</span>::<span class="ident">Source</span>};

<span class="comment">// Get a output stream handle to the default physical sound device</span>
<span class="kw">let</span> (<span class="ident">_stream</span>, <span class="ident">stream_handle</span>) <span class="op">=</span> <span class="ident">OutputStream</span>::<span class="ident">try_default</span>().<span class="ident">unwrap</span>();
<span class="comment">// Load a sound from a file, using a path relative to Cargo.toml</span>
<span class="kw">let</span> <span class="ident">file</span> <span class="op">=</span> <span class="ident">BufReader</span>::<span class="ident">new</span>(<span class="ident">File</span>::<span class="ident">open</span>(<span class="string">&quot;examples/music.ogg&quot;</span>).<span class="ident">unwrap</span>());
<span class="comment">// Decode that sound file into a source</span>
<span class="kw">let</span> <span class="ident">source</span> <span class="op">=</span> <span class="ident">Decoder</span>::<span class="ident">new</span>(<span class="ident">file</span>).<span class="ident">unwrap</span>();
<span class="comment">// Play the sound directly on the device</span>
<span class="ident">stream_handle</span>.<span class="ident">play_raw</span>(<span class="ident">source</span>.<span class="ident">convert_samples</span>());

<span class="comment">// The sound plays in a separate audio thread,</span>
<span class="comment">// so we need to keep the main thread alive while it&#39;s playing.</span>
<span class="ident">std</span>::<span class="ident">thread</span>::<span class="ident">sleep</span>(<span class="ident">std</span>::<span class="ident">time</span>::<span class="ident">Duration</span>::<span class="ident">from_secs</span>(<span class="number">5</span>));</pre></div>
<h2 id="sink" class="section-header"><a href="#sink">Sink</a></h2>
<p>In order to make it easier to control the playback, the rodio library also provides a type
named <a href="../rodio/struct.Sink.html" title="Sink"><code>Sink</code></a> which represents an audio track.</p>
<p>Instead of playing the sound with <a href="../rodio/struct.OutputStreamHandle.html#method.play_raw"><code>play_raw</code></a>, you can add it to
a <a href="../rodio/struct.Sink.html" title="Sink"><code>Sink</code></a> instead.</p>
<ul>
<li>Get a <a href="../rodio/struct.Sink.html" title="Sink"><code>Sink</code></a> to the output stream, and <a href="../rodio/struct.Sink.html#method.append"><code>.append()</code></a> your sound to it.</li>
</ul>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">fs</span>::<span class="ident">File</span>;
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">io</span>::<span class="ident">BufReader</span>;
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">time</span>::<span class="ident">Duration</span>;
<span class="kw">use</span> <span class="ident">rodio</span>::{<span class="ident">Decoder</span>, <span class="ident">OutputStream</span>, <span class="ident">Sink</span>};
<span class="kw">use</span> <span class="ident">rodio</span>::<span class="ident">source</span>::{<span class="ident">SineWave</span>, <span class="ident">Source</span>};

<span class="kw">let</span> (<span class="ident">_stream</span>, <span class="ident">stream_handle</span>) <span class="op">=</span> <span class="ident">OutputStream</span>::<span class="ident">try_default</span>().<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">sink</span> <span class="op">=</span> <span class="ident">Sink</span>::<span class="ident">try_new</span>(<span class="kw-2">&amp;</span><span class="ident">stream_handle</span>).<span class="ident">unwrap</span>();

<span class="comment">// Add a dummy source of the sake of the example.</span>
<span class="kw">let</span> <span class="ident">source</span> <span class="op">=</span> <span class="ident">SineWave</span>::<span class="ident">new</span>(<span class="number">440</span>).<span class="ident">take_duration</span>(<span class="ident">Duration</span>::<span class="ident">from_secs_f32</span>(<span class="number">0.25</span>)).<span class="ident">amplify</span>(<span class="number">0.20</span>);
<span class="ident">sink</span>.<span class="ident">append</span>(<span class="ident">source</span>);

<span class="comment">// The sound plays in a separate thread. This call will block the current thread until the sink</span>
<span class="comment">// has finished playing all its queued sounds.</span>
<span class="ident">sink</span>.<span class="ident">sleep_until_end</span>();</pre></div>
<p>The <a href="../rodio/struct.Sink.html#method.append"><code>append</code></a> method will add the sound at the end of the
sink. It will be played when all the previous sounds have been played. If you want multiple
sounds to play simultaneously, you should create multiple <a href="../rodio/struct.Sink.html" title="Sink"><code>Sink</code></a>s.</p>
<p>The <a href="../rodio/struct.Sink.html" title="Sink"><code>Sink</code></a> type also provides utilities such as playing/pausing or controlling the volume.</p>
<h2 id="filters" class="section-header"><a href="#filters">Filters</a></h2>
<p>The <a href="../rodio/source/trait.Source.html" title="Source"><code>Source</code></a> trait provides various filters, similar to the standard <a href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="Iterator"><code>Iterator</code></a> trait.</p>
<p>Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rodio</span>::<span class="ident">Source</span>;
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">time</span>::<span class="ident">Duration</span>;

<span class="comment">// Repeats the first five seconds of the sound forever.</span>
<span class="kw">let</span> <span class="ident">source</span> <span class="op">=</span> <span class="ident">source</span>.<span class="ident">take_duration</span>(<span class="ident">Duration</span>::<span class="ident">from_secs</span>(<span class="number">5</span>)).<span class="ident">repeat_infinite</span>();</pre></div>
<h2 id="how-it-works-under-the-hood" class="section-header"><a href="#how-it-works-under-the-hood">How it works under the hood</a></h2>
<p>Rodio spawns a background thread that is dedicated to reading from the sources and sending
the output to the device. Whenever you give up ownership of a <a href="../rodio/source/trait.Source.html" title="Source"><code>Source</code></a> in order to play it,
it is sent to this background thread where it will be read by rodio.</p>
<p>All the sounds are mixed together by rodio before being sent to the operating system or the
hardware. Therefore there is no restriction on the number of sounds that play simultaneously or
the number of sinks that can be created (except for the fact that creating too many will slow
down your program).</p>
</div><h2 id="reexports" class="section-header"><a href="#reexports">Re-exports</a></h2>
<table><tr><td><code>pub use crate::decoder::<a class="struct" href="../rodio/decoder/struct.Decoder.html" title="struct rodio::decoder::Decoder">Decoder</a>;</code></td></tr><tr><td><code>pub use crate::source::<a class="trait" href="../rodio/source/trait.Source.html" title="trait rodio::source::Source">Source</a>;</code></td></tr></table><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="buffer/index.html" title="rodio::buffer mod">buffer</a></td><td class="docblock-short"><p>A simple source of samples coming from a buffer.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="decoder/index.html" title="rodio::decoder mod">decoder</a></td><td class="docblock-short"><p>Decodes samples from an audio file.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="dynamic_mixer/index.html" title="rodio::dynamic_mixer mod">dynamic_mixer</a></td><td class="docblock-short"><p>Mixer that plays multiple sounds at the same time.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="queue/index.html" title="rodio::queue mod">queue</a></td><td class="docblock-short"><p>Queue that plays sounds one after the other.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="source/index.html" title="rodio::source mod">source</a></td><td class="docblock-short"><p>Sources of sound and various filters.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="static_buffer/index.html" title="rodio::static_buffer mod">static_buffer</a></td><td class="docblock-short"><p>A simple source of samples coming from a static buffer.</p>
</td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.Device.html" title="rodio::Device struct">Device</a></td><td class="docblock-short"><p>The <strong>Device</strong> implementation associated with the platform's dynamically dispatched
<strong>Host</strong> type.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Devices.html" title="rodio::Devices struct">Devices</a></td><td class="docblock-short"><p>The <strong>Devices</strong> iterator associated with the platform's dynamically dispatched <strong>Host</strong>
type.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.OutputStream.html" title="rodio::OutputStream struct">OutputStream</a></td><td class="docblock-short"><p><code>cpal::Stream</code> container. Also see the more useful <code>OutputStreamHandle</code>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.OutputStreamHandle.html" title="rodio::OutputStreamHandle struct">OutputStreamHandle</a></td><td class="docblock-short"><p>More flexible handle to a <code>OutputStream</code> that provides playback.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Sink.html" title="rodio::Sink struct">Sink</a></td><td class="docblock-short"><p>Handle to an device that outputs sounds.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.SpatialSink.html" title="rodio::SpatialSink struct">SpatialSink</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.SupportedStreamConfig.html" title="rodio::SupportedStreamConfig struct">SupportedStreamConfig</a></td><td class="docblock-short"><p>Describes a single supported stream configuration, retrieved via either a
<code>SupportedStreamConfigRange</code> instance or one of the <code>Device::default_input/output_config</code> methods.</p>
</td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.DevicesError.html" title="rodio::DevicesError enum">DevicesError</a></td><td class="docblock-short"><p>An error that might occur while attempting to enumerate the available devices on a system.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.PlayError.html" title="rodio::PlayError enum">PlayError</a></td><td class="docblock-short"><p>An error occurred while attemping to play a sound.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.StreamError.html" title="rodio::StreamError enum">StreamError</a></td><td class="docblock-short"></td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.DeviceTrait.html" title="rodio::DeviceTrait trait">DeviceTrait</a></td><td class="docblock-short"><p>A device that is capable of audio input and/or output.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.Sample.html" title="rodio::Sample trait">Sample</a></td><td class="docblock-short"><p>Represents a value of a single sample.</p>
</td></tr></table><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<table><tr class="module-item"><td><a class="type" href="type.InputDevices.html" title="rodio::InputDevices type">InputDevices</a></td><td class="docblock-short"><p>A host's device iterator yielding only <em>input</em> devices.</p>
</td></tr><tr class="module-item"><td><a class="type" href="type.OutputDevices.html" title="rodio::OutputDevices type">OutputDevices</a></td><td class="docblock-short"><p>A host's device iterator yielding only <em>output</em> devices.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="rodio"></div>
    <script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>